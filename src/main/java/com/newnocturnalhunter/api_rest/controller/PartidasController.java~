package com.newnocturnalhunter.api_rest.controller;

import com.newnocturnalhunter.api_rest.dto.PartidasDTO;
import com.newnocturnalhunter.api_rest.service.PartidasService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@RestController
@RequestMapping("/partidas") // -> http://localhost:8080/partidas
public class PartidasController {
    @Autowired
    private PartidasService partidasService;

    @GetMapping("/") // -> http://localhost:8080/partidas/
    public ResponseEntity<List<PartidasDTO>> getAllPartidas() {
        List<PartidasDTO> partidasDTO = partidasService.getAllPartidas();
        return new ResponseEntity<>(partidasDTO, HttpStatus.OK);
    }

    @GetMapping("/{idPartida}") // -> http://localhost:8080/partidas/{idPartida}
    public ResponseEntity<PartidasDTO> getPartidaById(@PathVariable String idPartida) {
        PartidasDTO partidaDTO = partidasService.getPartidaById(idPartida);
        return new ResponseEntity<>(partidaDTO, HttpStatus.OK);
    }

    @PostMapping("/") // -> http://localhost:8080/partidas/
    public ResponseEntity<PartidasDTO> createPartida(@RequestBody PartidasDTO partidaDTO) {
        partidasService.createPartida(partidaDTO);
        return new ResponseEntity<>(partidaDTO, HttpStatus.CREATED);
    }

    @PutMapping("/{idPartida}") // -> http://localhost:8080/partidas/{idPartida}
    public ResponseEntity<PartidasDTO> updatePartida(@PathVariable String idPartida, @RequestBody PartidasDTO partidaDTO) {
        partidasService.updatePartida(idPartida, partidaDTO);
        return new ResponseEntity<>(partidaDTO, HttpStatus.OK);
    }

    @DeleteMapping("/{idPartida}") // -> http://localhost:8080/partidas/{idPartida}
    public ResponseEntity<Void> deletePartida(@PathVariable String idPartida) {
        partidasService.deletePartida(idPartida);
        return new ResponseEntity<>(HttpStatus.NO_CONTENT);
    }
}
